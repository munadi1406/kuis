import{j as e}from"./jsx-runtime.DkxT02oa.js";import{r as t}from"./index.Sh_9MLoG.js";import{L as i,I as u}from"./label.D2o8K9at.js";import{c as T}from"./index.Bsn2zIA8.js";import{B as $}from"./button.D_yXzw-V.js";import"./index.CxOCE76-.js";import"./index.Dkg-imUb.js";const g=t.forwardRef(({className:m,...x},o)=>e.jsx("textarea",{className:T("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",m),ref:o,...x}));g.displayName="Textarea";function q({soalArray:m,opsiJawabanArray:x,handleInputChange:o}){return e.jsx(e.Fragment,{children:m.map(l=>e.jsxs(t.Fragment,{children:[e.jsx(i,{htmlFor:`Soal-Ke-${l+1}`,children:`Soal Ke ${l+1}`}),e.jsx(g,{id:`Soal-Ke-${l+1}`,placeholder:`Soal Ke ${l+1}`,row:3,name:`soal-${l}`,onChange:o,required:!0},l),x.map(c=>e.jsxs("div",{className:"grid grid-cols-6 w-full border-l-2 border-blue-600",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center items-center",children:[e.jsx("label",{htmlFor:`jawaban${l}`,className:"text-xs text-blue1 text-center p-1",children:"Click Jika Ini Jawaban Yang Benar"}),e.jsx("input",{type:"radio",name:`isTrue${l}`,id:`jawabanId${c}`,value:!0,onChange:o,required:!0})]}),e.jsxs("div",{className:" col-span-5 w-full",children:[e.jsx(i,{htmlFor:`Jawaban Ke ${c+1}`,children:`Jawaban Ke ${c+1}`}),e.jsx(g,{id:`Jawaban-Ke-${c+1}`,name:`jawaban${c}-${l}`,onChange:o,required:!0})]})]},c))]},l))})}function B(){const[m,x]=t.useState(1),[o,l]=t.useState(4),[c,b]=t.useState("");t.useState("");const[O,w]=t.useState(0);t.useState(""),t.useState("");const[S,v]=t.useState(!1),N=Array.from({length:m},(a,s)=>s),F=Array.from({length:o},(a,s)=>s),[j,f]=t.useState([]),k=a=>{const{name:s,value:d,id:h}=a.target;if(s.startsWith("soal")){const r=parseInt(s.split("soal-")[1]);f(n=>(n[r]={question:d,answerOption:[]},[...n]))}else if(s.startsWith("jawaban")){const r=parseInt(s.split("jawaban")[1].split("-")[1]),n=parseInt(s.split("jawaban")[1].split("-")[0]);if(!j[r])return;f(p=>(p[r].answerOption[n]?p[r].answerOption[n].answerOption=d:p[r].answerOption[n]={answerOption:d,answerIsTrue:!1},[...p]))}else if(s.startsWith("isTrue")){const r=s.split("isTrue")[1],n=h.split("jawabanId")[1];if(!j[r])return;j[r].answerOption.forEach((p,K)=>{p.answerIsTrue=K.toString()===n}),f(j)}},[P,y]=t.useState(),J=async a=>{const s=a.target.files[0],d=await C(s);d&&y(d),v(!0)},C=a=>new Promise((s,d)=>{const h=new FileReader;h.onload=r=>{const n=r.target.result;s(n)},h.onerror=r=>{d(r)},h.readAsText(a)});return e.jsxs("form",{className:"grid md:grid-cols-6 grid-cols-1 gap-2",autoComplete:"none",children:[e.jsxs("div",{className:"grid grid-cols-1 order-1   gap-2 p-2 rounded-md border col-span-4",autoComplete:"none",children:[e.jsxs("div",{className:"flex  justify-center items-center gap-2 w-full flex-col",children:[e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"namaKuis",children:"Nama Kuis"}),e.jsx(u,{label:"Nama Quiz",placeholder:"Masukkan Nama Quiz",required:!0,onChange:a=>b(a.target.value),id:"namaKuis"})]}),e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"Deskripsi",children:"Deskripsi Quiz"}),e.jsx(g,{id:"Deskripsi"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 w-full",children:S?e.jsx("div",{className:"col-span-2",children:e.jsx(u,{label:"File Pdf",accept:".txt",type:"file",onChange:J,style:"col-span-2"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"jumlahSoal",children:"Jumlah Soal"}),e.jsx(u,{id:"jumlahSoal",placeholder:"Masukkan Jumlah Soal ",value:m,onChange:a=>x(a.target.value),required:!0})]}),e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"jumlahSoal",children:"Opsi Jawaban"}),e.jsx(u,{id:"opsiJawaban",placeholder:"Masukkan Jumlah Opsi Jawaban Di Setiap Soal",value:o,onChange:a=>l(a.target.value),required:!0})]})]})})]}),e.jsx("div",{className:"flex w-full"})]}),e.jsxs("div",{className:"col-span-2 md:order-2 order-3 border p-2 rounded-md flex flex-col gap-2 md:sticky top-0",children:[e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"date1",children:"Tanggal Mulai"}),e.jsx(u,{type:"date",required:!0,id:"date1"})]}),e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"date2",children:"Tanggal Selesai"}),e.jsx(u,{type:"date",placeholder:"Masukkan Nama Quiz",required:!0,id:"date2"})]}),e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"lamaPengerjaan",children:"Lama Pengerjaan"}),e.jsx(u,{type:"number",label:"Lama Pengerjaan Quiz",placeholder:"Masukkan Lama Pengerjaan Kuis Dalam Menit...",required:!0,onChange:a=>w(a.target.value),id:"lamaPengerjaan"})]}),e.jsxs("div",{className:"w-full gap-1.5",children:[e.jsx(i,{htmlFor:"lamaPengerjaan",children:"Token Kuis"}),e.jsx(u,{type:"number",label:"Lama Pengerjaan Quiz",placeholder:"Masukkan Token Kuis...",required:!0,onChange:a=>w(a.target.value),id:"tokenKuis"})]}),e.jsx($,{children:"Simpan"})]}),e.jsx("div",{className:"w-full md:order-3 order-2 col-span-4 flex flex-col gap-2 border p-2 rounded-md",children:e.jsx(q,{opsiJawabanArray:F,handleInputChange:k,soalArray:N})})]})}export{B as default};
