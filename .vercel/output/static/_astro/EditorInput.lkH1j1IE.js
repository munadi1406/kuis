import{j as m}from"./jsx-runtime.B6Q2Q8rY.js";import{r as n}from"./index.caxmlYbZ.js";import{T as l,P as c}from"./CreateQuiz.B1PwUNva.js";import"./input.C4_IcoYx.js";import"./react-icons.esm.Bl5TofSn.js";import"./index.BT_cHE16.js";import"./index.CxOCE76-.js";import"./preload-helper.BiBI96sQ.js";import"./button.4wA_-35M.js";import"./select.Cho6iDwW.js";import"./index.bGmHf_Qs.js";import"./index.C7eCcQ7I.js";import"./Combination.bo6dpEKa.js";import"./index.D2UOOlok.js";import"./index.DLkKLInH.js";import"./index.BQ-noFVk.js";import"./useBaseQuery.Dlinqwim.js";import"./WithQuery.DnMMxJSk.js";const p=a=>{try{return new URL(a).searchParams.get("name")}catch(e){return console.error("Gagal mem-parsing URL:",e),null}};class d extends c{removed(){const e=this._data.file.url,o=p(e);o&&fetch("/api/image?name="+o,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(r=>r.text()).then(r=>{}).catch(r=>{})}}const N=({name:a,onChange:e,id:o})=>{const r=n.useRef(null),i=n.useRef(null);return n.useEffect(()=>(i.current=new l({holder:r.current,tools:{image:{class:d,config:{endpoints:{byFile:"https://4321-idx-kuis-1721514690989.cluster-7ubberrabzh4qqy2g4z7wgxuw2.cloudworkstations.dev/api/image"},onUploadError:t=>{console.error("Upload Error:",t),alert("Failed to upload image: "+t.message)},onUploadSuccess:(t,s)=>{console.log("Upload Successful:",t,s)}}}},onChange:async t=>{const s=await t.saver.save();e({target:{id:o,name:a,value:s}})}}),()=>{i.current?.destroy()}),[]),m.jsx("div",{children:m.jsx("div",{ref:r,className:"border w-full"})})};export{N as default};
